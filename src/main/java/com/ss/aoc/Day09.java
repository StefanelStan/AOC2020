package com.ss.aoc;

import java.util.HashSet;
import java.util.Set;

public class Day09 {
    private int preambleTestSize = 5;
    private int preambleSize = 25;
    private String inputTestData = "35\n" +
            "20\n" +
            "15\n" +
            "25\n" +
            "47\n" +
            "40\n" +
            "62\n" +
            "55\n" +
            "65\n" +
            "95\n" +
            "102\n" +
            "117\n" +
            "150\n" +
            "182\n" +
            "127\n" +
            "219\n" +
            "299\n" +
            "277\n" +
            "309\n" +
            "576";

    private String inputData = "30\n" +
            "20\n" +
            "2\n" +
            "19\n" +
            "18\n" +
            "15\n" +
            "49\n" +
            "50\n" +
            "23\n" +
            "39\n" +
            "16\n" +
            "31\n" +
            "41\n" +
            "36\n" +
            "22\n" +
            "35\n" +
            "40\n" +
            "38\n" +
            "33\n" +
            "8\n" +
            "13\n" +
            "43\n" +
            "48\n" +
            "24\n" +
            "42\n" +
            "69\n" +
            "44\n" +
            "10\n" +
            "29\n" +
            "60\n" +
            "21\n" +
            "54\n" +
            "18\n" +
            "26\n" +
            "28\n" +
            "34\n" +
            "37\n" +
            "39\n" +
            "23\n" +
            "30\n" +
            "31\n" +
            "32\n" +
            "83\n" +
            "36\n" +
            "79\n" +
            "33\n" +
            "38\n" +
            "40\n" +
            "59\n" +
            "41\n" +
            "42\n" +
            "43\n" +
            "44\n" +
            "46\n" +
            "53\n" +
            "85\n" +
            "56\n" +
            "48\n" +
            "49\n" +
            "63\n" +
            "81\n" +
            "55\n" +
            "54\n" +
            "74\n" +
            "84\n" +
            "64\n" +
            "65\n" +
            "80\n" +
            "76\n" +
            "78\n" +
            "71\n" +
            "79\n" +
            "82\n" +
            "90\n" +
            "87\n" +
            "92\n" +
            "89\n" +
            "93\n" +
            "147\n" +
            "119\n" +
            "97\n" +
            "102\n" +
            "136\n" +
            "103\n" +
            "118\n" +
            "109\n" +
            "120\n" +
            "206\n" +
            "129\n" +
            "143\n" +
            "175\n" +
            "141\n" +
            "150\n" +
            "180\n" +
            "212\n" +
            "160\n" +
            "161\n" +
            "169\n" +
            "176\n" +
            "325\n" +
            "182\n" +
            "186\n" +
            "190\n" +
            "205\n" +
            "199\n" +
            "200\n" +
            "249\n" +
            "221\n" +
            "223\n" +
            "227\n" +
            "259\n" +
            "270\n" +
            "272\n" +
            "311\n" +
            "399\n" +
            "329\n" +
            "531\n" +
            "336\n" +
            "373\n" +
            "343\n" +
            "584\n" +
            "448\n" +
            "345\n" +
            "358\n" +
            "368\n" +
            "376\n" +
            "411\n" +
            "459\n" +
            "581\n" +
            "811\n" +
            "472\n" +
            "444\n" +
            "680\n" +
            "450\n" +
            "486\n" +
            "643\n" +
            "542\n" +
            "583\n" +
            "640\n" +
            "960\n" +
            "701\n" +
            "679\n" +
            "779\n" +
            "688\n" +
            "824\n" +
            "703\n" +
            "713\n" +
            "721\n" +
            "744\n" +
            "1153\n" +
            "945\n" +
            "992\n" +
            "1255\n" +
            "1165\n" +
            "894\n" +
            "1362\n" +
            "1265\n" +
            "1364\n" +
            "1286\n" +
            "1028\n" +
            "1331\n" +
            "2520\n" +
            "1693\n" +
            "1319\n" +
            "1367\n" +
            "1503\n" +
            "1382\n" +
            "1391\n" +
            "1401\n" +
            "1434\n" +
            "1416\n" +
            "1457\n" +
            "1465\n" +
            "1909\n" +
            "1839\n" +
            "1886\n" +
            "1922\n" +
            "2392\n" +
            "2059\n" +
            "2314\n" +
            "3793\n" +
            "2293\n" +
            "2347\n" +
            "2359\n" +
            "2395\n" +
            "3343\n" +
            "2686\n" +
            "3615\n" +
            "2701\n" +
            "2749\n" +
            "2773\n" +
            "2798\n" +
            "2792\n" +
            "2817\n" +
            "3351\n" +
            "2873\n" +
            "2922\n" +
            "5317\n" +
            "4610\n" +
            "4198\n" +
            "5085\n" +
            "5215\n" +
            "4352\n" +
            "5081\n" +
            "4607\n" +
            "6152\n" +
            "6969\n" +
            "6044\n" +
            "4754\n" +
            "5387\n" +
            "8950\n" +
            "7405\n" +
            "5518\n" +
            "5450\n" +
            "5522\n" +
            "8952\n" +
            "5590\n" +
            "5609\n" +
            "5690\n" +
            "5795\n" +
            "7071\n" +
            "9361\n" +
            "8962\n" +
            "9413\n" +
            "9106\n" +
            "9567\n" +
            "9688\n" +
            "10272\n" +
            "9994\n" +
            "14374\n" +
            "10141\n" +
            "10204\n" +
            "10549\n" +
            "11040\n" +
            "10837\n" +
            "16139\n" +
            "10968\n" +
            "10972\n" +
            "19960\n" +
            "11212\n" +
            "30164\n" +
            "11280\n" +
            "11299\n" +
            "15936\n" +
            "15999\n" +
            "18519\n" +
            "18068\n" +
            "18956\n" +
            "18673\n" +
            "25105\n" +
            "21034\n" +
            "26133\n" +
            "20135\n" +
            "20690\n" +
            "20345\n" +
            "30486\n" +
            "21041\n" +
            "26976\n" +
            "21809\n" +
            "21805\n" +
            "36970\n" +
            "21940\n" +
            "41944\n" +
            "22579\n" +
            "22492\n" +
            "41041\n" +
            "27216\n" +
            "27235\n" +
            "36071\n" +
            "36587\n" +
            "36741\n" +
            "37024\n" +
            "37629\n" +
            "58392\n" +
            "40480\n" +
            "40825\n" +
            "42924\n" +
            "54211\n" +
            "41035\n" +
            "61380\n" +
            "42846\n" +
            "64786\n" +
            "43614\n" +
            "58550\n" +
            "58910\n" +
            "62972\n" +
            "44432\n" +
            "45071\n" +
            "59166\n" +
            "86538\n" +
            "73700\n" +
            "77504\n" +
            "63306\n" +
            "81515\n" +
            "74216\n" +
            "144821\n" +
            "74653\n" +
            "152157\n" +
            "81305\n" +
            "140749\n" +
            "81860\n" +
            "83881\n" +
            "86106\n" +
            "84649\n" +
            "87278\n" +
            "86460\n" +
            "107404\n" +
            "88046\n" +
            "89503\n" +
            "103342\n" +
            "119085\n" +
            "103598\n" +
            "108377\n" +
            "271242\n" +
            "137959\n" +
            "189264\n" +
            "137522\n" +
            "171927\n" +
            "148869\n" +
            "155958\n" +
            "248153\n" +
            "190237\n" +
            "211002\n" +
            "163165\n" +
            "205191\n" +
            "237818\n" +
            "169987\n" +
            "171109\n" +
            "172695\n" +
            "173738\n" +
            "177549\n" +
            "222683\n" +
            "191388\n" +
            "192845\n" +
            "206940\n" +
            "409201\n" +
            "341914\n" +
            "245899\n" +
            "275481\n" +
            "397022\n" +
            "328910\n" +
            "293480\n" +
            "304827\n" +
            "312034\n" +
            "501605\n" +
            "333152\n" +
            "336903\n" +
            "334274\n" +
            "335860\n" +
            "343725\n" +
            "341096\n" +
            "508012\n" +
            "363954\n" +
            "346433\n" +
            "351287\n" +
            "368937\n" +
            "384233\n" +
            "580173\n" +
            "486325\n" +
            "557933\n" +
            "521380\n" +
            "598307\n" +
            "539379\n" +
            "568961\n" +
            "605514\n" +
            "616861\n" +
            "655759\n" +
            "676877\n" +
            "646308\n" +
            "854445\n" +
            "905613\n" +
            "670134\n" +
            "675370\n" +
            "1163771\n" +
            "715370\n" +
            "697720\n" +
            "872667\n" +
            "710387\n" +
            "867813\n" +
            "720224\n" +
            "753170\n" +
            "923612\n" +
            "1007705\n" +
            "1025704\n" +
            "1060759\n" +
            "1266681\n" +
            "1358684\n" +
            "1544690\n" +
            "1174475\n" +
            "1222375\n" +
            "2226497\n" +
            "1366532\n" +
            "1316442\n" +
            "1578200\n" +
            "1367854\n" +
            "1345504\n" +
            "1385504\n" +
            "1390740\n" +
            "1463557\n" +
            "1473394\n" +
            "1408107\n" +
            "1430611\n" +
            "3572001\n" +
            "1620983\n" +
            "1780983\n" +
            "2069612\n" +
            "2342146\n" +
            "2033409\n" +
            "2086463\n" +
            "2235234\n" +
            "3611609\n" +
            "3452995\n" +
            "2396850\n" +
            "2541007\n" +
            "2538817\n" +
            "2661946\n" +
            "2682974\n" +
            "3051594\n" +
            "2713358\n" +
            "2731008\n" +
            "2736244\n" +
            "2776244\n" +
            "2798847\n" +
            "4608429\n" +
            "4186752\n" +
            "3690595\n" +
            "5444366\n" +
            "4321990\n" +
            "3401966\n" +
            "5724004\n" +
            "4103021\n" +
            "4430259\n" +
            "4119872\n" +
            "4321697\n" +
            "4632084\n" +
            "4935667\n" +
            "4937857\n" +
            "5133094\n" +
            "5449602\n" +
            "5200763\n" +
            "7793616\n" +
            "5396332\n" +
            "7977007\n" +
            "7384673\n" +
            "5467252\n" +
            "8266099\n" +
            "6178210\n" +
            "7092561\n" +
            "7504987\n" +
            "8643687\n" +
            "8012585\n" +
            "10136430\n" +
            "7521838\n" +
            "7723663\n" +
            "9499353\n" +
            "9257364\n" +
            "8441569\n" +
            "11311304\n" +
            "8953781\n" +
            "9567751\n" +
            "12293324\n" +
            "15745961\n" +
            "10333857\n" +
            "14190795\n" +
            "10597095\n" +
            "11574542\n" +
            "14040019\n" +
            "12559813\n" +
            "17021191\n" +
            "11645462\n" +
            "13270771\n" +
            "20087031\n" +
            "14597548\n" +
            "17838844\n" +
            "15245501\n" +
            "15534423\n" +
            "22838522\n" +
            "16475619\n" +
            "19287638\n" +
            "25462760\n" +
            "17395350\n" +
            "20879055\n" +
            "19901608\n" +
            "20164846\n" +
            "36682988\n" +
            "25564095\n" +
            "32640851\n" +
            "20930952\n" +
            "22171637\n" +
            "22242557\n" +
            "42959445\n" +
            "24205275\n" +
            "33870969\n" +
            "24916233\n" +
            "49116470\n" +
            "27868319\n" +
            "29843049\n" +
            "33373267\n" +
            "34314463\n" +
            "30779924\n" +
            "42144165\n" +
            "35763257\n" +
            "38647256\n" +
            "37296958\n" +
            "37560196\n" +
            "38326302\n" +
            "58227910\n" +
            "40066454\n" +
            "56113526\n" +
            "43102589\n" +
            "43173509\n" +
            "44414194\n" +
            "45136227\n" +
            "46376912\n" +
            "52085606\n" +
            "49121508\n" +
            "52073594\n" +
            "52784552\n" +
            "58289500\n" +
            "70970908\n" +
            "57711368\n" +
            "60622973\n" +
            "64153191\n" +
            "74380917\n" +
            "69106226\n" +
            "73060215\n" +
            "95259115\n" +
            "77626650\n" +
            "74857154\n" +
            "75886498\n" +
            "78392756\n" +
            "108898078\n" +
            "83169043\n" +
            "86276098\n" +
            "89550421\n" +
            "104870158\n" +
            "90791106\n" +
            "91513139\n" +
            "95498420\n" +
            "104159200\n" +
            "147332709\n" +
            "104858146\n" +
            "113407525\n" +
            "116000868\n" +
            "137213406\n" +
            "118334341\n" +
            "146732876\n" +
            "133259417\n" +
            "185107094\n" +
            "164604646\n" +
            "147917369\n" +
            "150743652\n" +
            "152483804\n" +
            "179727312\n" +
            "154279254\n" +
            "161561799\n" +
            "172719464\n" +
            "180341527\n" +
            "175826519\n" +
            "181063560\n" +
            "308294675\n" +
            "285222760\n" +
            "187011559\n" +
            "199657620\n" +
            "284546115\n" +
            "246666942\n" +
            "223192487\n" +
            "229408393\n" +
            "461049279\n" +
            "251593758\n" +
            "265067217\n" +
            "347574989\n" +
            "465564287\n" +
            "298661021\n" +
            "327644681\n" +
            "300401173\n" +
            "303227456\n" +
            "342625359\n" +
            "484880380\n" +
            "315841053\n" +
            "348545983\n" +
            "353060991\n" +
            "356168046\n" +
            "368075119\n" +
            "476075335\n" +
            "386669179\n" +
            "410204046\n" +
            "579238439\n" +
            "451251378\n" +
            "785281553\n" +
            "808646832\n" +
            "545249446\n" +
            "481002151\n" +
            "852955499\n" +
            "516660975\n" +
            "592711898\n" +
            "616242226\n" +
            "599062194\n" +
            "601888477\n" +
            "659395502\n" +
            "837920557\n" +
            "619068509\n" +
            "658466412\n" +
            "926865021\n" +
            "664387036\n" +
            "701606974\n" +
            "989442485\n" +
            "724243165\n" +
            "754744298\n" +
            "796873225\n" +
            "1330530999\n" +
            "861455424\n" +
            "967912353\n" +
            "1053139855\n" +
            "997663126\n" +
            "1026251597\n" +
            "1061910421\n" +
            "1215304420\n" +
            "1109372873\n" +
            "1115723169\n" +
            "1191774092\n" +
            "2392441420\n" +
            "1200950671\n" +
            "1220956986\n" +
            "1653829521\n" +
            "1277534921\n" +
            "1322853448\n" +
            "1656129538\n" +
            "1713685650\n" +
            "1365994010\n" +
            "1425850139\n" +
            "1478987463\n" +
            "2162867235\n" +
            "2225096042\n" +
            "1658328649\n" +
            "1923365845\n" +
            "1398413738\n" +
            "3650946181\n" +
            "2023914723\n" +
            "2059573547\n" +
            "2088162018\n" +
            "2253684513\n" +
            "2301146965\n" +
            "3581694494\n" +
            "2307497261\n" +
            "2392724763\n" +
            "2421907657\n" +
            "3630350709\n" +
            "3591090052\n" +
            "3402353308\n" +
            "2600388369\n" +
            "4768347318\n" +
            "2764407748\n" +
            "2791844149\n" +
            "2824263877\n" +
            "4646409276\n" +
            "3871712226\n" +
            "3056742387\n" +
            "3321779583\n" +
            "3947280568\n" +
            "4224512810\n" +
            "3422328461\n" +
            "4331411984\n" +
            "5641268041\n" +
            "4147735565\n" +
            "4341846531\n" +
            "4554831478\n" +
            "5882841459\n" +
            "6194197457\n" +
            "4814632420\n" +
            "7379095355\n" +
            "5022296026\n" +
            "5364796117\n" +
            "5392232518\n" +
            "6226617185\n" +
            "5424652246\n" +
            "5616108026\n" +
            "5556251897\n" +
            "13020363396\n" +
            "5881006264\n" +
            "10071061522\n" +
            "6378521970\n" +
            "8236960881\n" +
            "6744108044\n" +
            "9038436487\n" +
            "7753740445\n" +
            "15435857639\n" +
            "8479147549\n" +
            "10933353448\n" +
            "10905137485\n" +
            "8896678009\n" +
            "9369463898\n" +
            "9836928446\n" +
            "10179428537\n" +
            "11558740464\n" +
            "10387092143\n" +
            "10414528544\n" +
            "10757028635\n" +
            "19971789935\n" +
            "11497114290\n" +
            "16792176932\n" +
            "21320445591\n" +
            "17311875418\n" +
            "12259528234\n" +
            "12625114308\n" +
            "19236176184\n" +
            "13122630014\n" +
            "14497848489\n" +
            "15223255593\n" +
            "16232887994\n" +
            "17375825558\n" +
            "17848611447\n" +
            "18266141907\n" +
            "18733606455\n" +
            "19311206553\n" +
            "27730002284\n" +
            "26647416538\n" +
            "20251456990\n" +
            "21171557179\n" +
            "32763990396\n" +
            "20801620687\n" +
            "21911642834\n" +
            "22254142925\n" +
            "28872939848\n" +
            "29345725737\n" +
            "36028353116\n" +
            "47606546303\n" +
            "30498455572\n" +
            "31388771921\n" +
            "27620478503\n" +
            "50517282916\n" +
            "28345885607\n" +
            "29721104082\n" +
            "31456143587\n" +
            "33608713552\n" +
            "45469089950\n" +
            "36114753354\n" +
            "37577348460\n" +
            "38985063445\n" +
            "39562663543\n" +
            "41053077677\n" +
            "41423014169\n" +
            "41973177866\n" +
            "42713263521\n" +
            "63735231857\n" +
            "64107169124\n" +
            "44165785759\n" +
            "61954599159\n" +
            "55966364110\n" +
            "56966204240\n" +
            "57341582585\n" +
            "86632036270\n" +
            "62844915508\n" +
            "58066989689\n" +
            "59076622090\n" +
            "59802029194\n" +
            "92566019590\n" +
            "61177247669\n" +
            "65064857139\n" +
            "69723466906\n" +
            "73692101814\n" +
            "75677416897\n" +
            "76562411905\n" +
            "78547726988\n" +
            "80615741220\n" +
            "82476091846\n" +
            "83396192035\n" +
            "84686441387\n" +
            "114033353799\n" +
            "100132149869\n" +
            "118878651284\n" +
            "138442455956\n" +
            "137739659574\n" +
            "173181760810\n" +
            "114307786825\n" +
            "116418204675\n" +
            "117869018883\n" +
            "124866886333\n" +
            "117143611779\n" +
            "120253869759\n" +
            "120979276863\n" +
            "126242104808\n" +
            "136854664566\n" +
            "134788324045\n" +
            "158153508743\n" +
            "152239828802\n" +
            "154225143885\n" +
            "155110138893\n" +
            "159163468208\n" +
            "163091833066\n" +
            "165872283881\n" +
            "168082633422\n" +
            "184818591256\n" +
            "318201971959\n" +
            "214439936694\n" +
            "255042193804\n" +
            "230725991500\n" +
            "231451398604\n" +
            "232176805708\n" +
            "280960851949\n" +
            "242735905216\n" +
            "235012630662\n" +
            "320097427766\n" +
            "237397481538\n" +
            "241233146622\n" +
            "247221381671\n" +
            "495400788643\n" +
            "322255301274\n" +
            "292941832788\n" +
            "478630628160\n" +
            "306464972687\n" +
            "401446525556\n" +
            "314273607101\n" +
            "400396614830\n" +
            "380312220575\n" +
            "333954917303\n" +
            "352901224678\n" +
            "399258527950\n" +
            "445165928194\n" +
            "557494909304\n" +
            "462177390104\n" +
            "466464029266\n" +
            "482234012333\n" +
            "467189436370\n" +
            "472410112200\n" +
            "476245777284\n" +
            "484618863209\n" +
            "530339314326\n" +
            "488454528293\n" +
            "773654409057\n" +
            "626896750091\n" +
            "599406805475\n" +
            "1400551159148\n" +
            "607215439889\n" +
            "620738579788\n" +
            "640419889990\n" +
            "686856141981\n" +
            "667174831779\n" +
            "714267137878\n" +
            "820090661048\n" +
            "733213445253\n" +
            "837520087887\n" +
            "1327276031971\n" +
            "1099306862291\n" +
            "949423448703\n" +
            "928641419370\n" +
            "948655889484\n" +
            "939599548570\n" +
            "1419497466523\n" +
            "957028975409\n" +
            "1128874418283\n" +
            "1643885117390\n" +
            "1018793842619\n" +
            "1313752892072\n" +
            "1206622245364\n" +
            "1528048224845\n" +
            "1220145385263\n" +
            "1227954019677\n" +
            "1606774380349\n" +
            "1261158469778\n" +
            "1307594721769\n" +
            "1420069587234\n" +
            "1447480583131\n" +
            "1534357798926\n" +
            "2264623697178\n" +
            "1570733533140\n" +
            "1777119636457\n" +
            "1868240967940\n" +
            "2813396625713\n" +
            "1877297308854\n" +
            "2456689644215\n" +
            "1888255438054\n" +
            "1896628523979\n" +
            "3096194987617\n" +
            "2533898277335\n" +
            "2147668260902\n" +
            "2426767630627\n" +
            "2948117812079\n" +
            "2489112489455\n" +
            "3149413907832\n" +
            "2448099404940\n" +
            "2708639052909\n" +
            "3297366896088\n" +
            "2568753191547\n" +
            "2681228057012\n" +
            "2727664309003\n" +
            "2867550170365\n" +
            "3018214116271\n" +
            "3745538276794\n" +
            "4430526801314\n" +
            "3347853169597\n" +
            "3924787897359\n" +
            "5184353953218\n" +
            "4336354842994\n" +
            "6763122473621\n" +
            "4624292832982\n" +
            "3784883962033\n" +
            "4044296784881\n" +
            "4681566538237\n" +
            "4595767665842\n" +
            "4574435891529\n" +
            "4874867035567\n" +
            "4937211894395\n" +
            "5249981248559\n" +
            "9256002429766\n" +
            "5129327461952\n" +
            "5277392244456\n" +
            "6075517478600\n" +
            "9851828135985\n" +
            "5408892366015\n" +
            "8427104815031\n" +
            "7132737131630\n" +
            "6366067285868\n" +
            "7093391446391\n" +
            "8261142740353\n" +
            "8969237915251\n" +
            "10313681415170\n" +
            "8380651627875\n" +
            "7829180746914\n" +
            "8359319853562\n" +
            "8409176795015\n" +
            "13013534700132\n" +
            "8618732676410\n" +
            "9170203557371\n" +
            "17587970591661\n" +
            "9449302927096\n" +
            "9812078929962\n" +
            "13636712098018\n" +
            "10379308710511\n" +
            "13670035106368\n" +
            "10406719706408\n" +
            "11352909723056\n" +
            "14984799962278\n" +
            "13789543993890\n" +
            "13818069161030\n" +
            "13459458732259\n" +
            "14961917878544\n" +
            "26650246798150\n" +
            "14922572193305\n" +
            "16090323487267\n" +
            "16188500600476\n" +
            "16447913423324\n" +
            "16209832374789\n" +
            "28940880314717\n" +
            "16768496648577\n" +
            "17027909471425\n" +
            "22078191408669\n" +
            "17788936233781\n" +
            "23267372088126\n" +
            "38229289966670\n" +
            "19261381857058\n" +
            "25368637584952\n" +
            "20786028416919\n" +
            "34575572410809\n" +
            "49917618886276\n" +
            "21759629429464\n" +
            "24812368455315\n" +
            "27249002726149\n" +
            "27607613154920\n" +
            "31607005394811\n" +
            "28382030925564\n" +
            "36876351904186\n" +
            "31111072793781\n" +
            "33216410071901\n" +
            "32278824087743\n" +
            "47299573394257\n" +
            "44276912197574\n" +
            "37554525065496\n" +
            "39106100880094\n" +
            "68665597859277\n" +
            "49008632155613\n" +
            "69340362760451\n" +
            "37050318090839\n" +
            "40047410273977\n" +
            "41021011286522\n" +
            "42545657846383\n" +
            "46571997884779\n" +
            "45598396872234\n" +
            "50141660355028\n" +
            "54038453517207\n" +
            "70153271001303\n" +
            "74954028810343\n" +
            "95059464803729\n" +
            "78850821972522\n" +
            "61598440997465\n" +
            "70266728162740\n" +
            "83358070426929\n" +
            "63389896881524\n" +
            "117452844395560\n" +
            "69329142178582\n" +
            "74604843156335\n" +
            "76156418970933\n" +
            "77097728364816\n" +
            "94085863791184\n" +
            "88144054718617\n" +
            "153624798589669\n" +
            "78071329377361\n" +
            "205596899114177\n" +
            "81068421560499\n" +
            "100610451401986\n";

    public long firstNonSumNumber() {
        return firstNonSumNumber(inputData, preambleSize);
    }

    private long firstNonSumNumber(String data, int preamble) {
        long[] numbers = getNumbersFromData(data);
        long nonSumNumber = 0;
        for (int i = preamble; i <= numbers.length; i++) {
            if (!isValidSumOfPrevious(numbers[i], numbers, i - preamble, i - 1)) {
                nonSumNumber = numbers[i];
                break;
            }
        }
        return nonSumNumber;
        // 1398413738

    }

    public long getEncryptionWeakness() {
        long firstNonSumNumber = firstNonSumNumber(inputData, preambleSize);
        long encryptionWeakness = 0;
        long[] numbers = getNumbersFromData(inputData);
        long[] leftSum = new long[numbers.length];

        long left = 0, right = 0;
        for (int i = 0; i < numbers.length; i++) {
            left += numbers[i];
            leftSum[i] = left;
        }
        long partialSum = 0;
        boolean subsetFound = false;
        int leftIndex = 0, rightIndex = 0;
        for (int i = leftSum.length - 1; i > 1 && !subsetFound; i--) {
            for (int j = i - 2; j >= 0; j--) {
                partialSum = leftSum[i] - leftSum[j];
                if (partialSum == firstNonSumNumber) {
                    leftIndex = j+1;
                    rightIndex = i;
                    subsetFound = true;
                    break;
                }
            }
        }

        long min = firstNonSumNumber, max = 0;
        for (int i = leftIndex; i <= rightIndex; i++) {
            if(numbers[i] < min) {
                min = numbers[i];
            }
            if (numbers[i] > max) {
                max = numbers[i];
            }
        }

        return min + max;
    }

    private long[] getNumbersFromData(String data) {
        String[] chunks = data.split("\n");
        long[] numbers = new long[chunks.length];
        for (int i = 0; i < chunks.length; i++) {
            numbers[i] = Long.parseLong(chunks[i]);
        }
        return numbers;
    }

    private boolean isValidSumOfPrevious(long number, long[] data, int fromIndex, int endIndex) {
        Set<Long> tempSet = new HashSet<>();
        for (int i = fromIndex; i <= endIndex; i++) {
            tempSet.add(data[i]);
        }
        for (Long item : tempSet) {
            if (tempSet.contains(number - item) && (item.longValue() * 2 != number)) {
                return true;
            }
        }

        return false;
    }

}
